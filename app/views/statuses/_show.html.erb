<% status = object if local_variables.include?(:object) %>

<% on_my_profile = (status.user == current_user) %>

<li class="status pod half bottom-border
	<%= " first" if index%2 == 1 %>">
	
	<div class="status-top group">
	
	  <% if local_assigns.keys.include?(:author) %>
	    <span class="author">
			<%= link_to author, user_url(status.user) %>
		</span>
	  <% end %>
  
	  <span class="posted-at"><%= time_ago(status) %></span>
  
	</div>

  <% if status.pic_file_size %>
    <div class="status-img">
      <%= image_tag status.pic.url(:big) %>
    </div>
  <% end %>

  <div class="status-body"><%= status.body %></div>
  

    <div class="likes">
      <%= render partial: "responses/like-count", locals: {
        like_count: status.like_count } %>
    </div>

  <% unless Status.statuses_liked_by(current_user).include?(status) ||
     on_my_profile %>
    <%= button_to "Like", status_responses_url(status),
      method: :post, remote: true, class: "like-button" %>
  <% end %>

  <%= render partial: "responses/comments", locals: { status: status } %>

  <% unless on_my_profile %>
    <%= render partial: "responses/new-comment", locals: { status: status } %>
  <% end %>
</li>